import{_ as g}from"./layout.1cb4884a.js";import{a as b,B as h,y as m,c as I,w as x,o as k,e,q as n,v as c,u as s,I as p,J as M,E as l,p as V,b as w}from"./entry.467f29c8.js";import{u as U}from"./dayjs.0a875775.js";import{g as B,e as S}from"./member.b1f34670.js";const i=d=>(V("data-v-de4b33f4"),d=d(),w(),d),E={class:"box"},D={class:"block-box"},N=i(()=>e("div",{class:"title"},"個人資料編輯",-1)),Y=i(()=>e("div",{class:"item-title"},"*姓名",-1)),j=i(()=>e("div",{class:"item-title"},"*性別",-1)),z={class:"radio-box"},C={class:"radio-item"},J=i(()=>e("label",{for:"male"},"男性",-1)),O={class:"radio-item"},H=i(()=>e("label",{for:"female"},"女性",-1)),q={class:"radio-item"},L=i(()=>e("label",{for:"intersex"},"中性",-1)),R=i(()=>e("div",{class:"item-title"},"*生日",-1)),T=i(()=>e("div",{class:"item-title"},"機構",-1)),A=i(()=>e("div",{class:"item-title"},"機構類別",-1)),F={class:"select-container"},G=i(()=>e("option",{value:""},"請選擇",-1)),K=i(()=>e("option",{value:"學校"},"學校",-1)),P=i(()=>e("option",{value:"補習班"},"補習班",-1)),Q=i(()=>e("option",{value:"政府機關"},"政府機關",-1)),W=[G,K,P,Q],X={__name:"userInfoEdit",setup(d){const _=h("info").value.id;console.log("memberId",_);const t=m({}),u=async()=>{const{data:r}=await B(_);let o=r.value.data;o.birthday=o.birthday.split(" ")[0],Object.assign(t,JSON.parse(JSON.stringify(o))),console.log("setMemberInfo",t)};u(),m({name:"",gender:0,birthday:"",organization:"",category:""});const v=U(),f=()=>{t.birthday=v(t.birthday).format("YYYY-MM-DD HH:mm:ss"),t.name===""?l({message:"請輸入姓名！",type:"warning"}):t.birthday===""?l({message:"請輸入生日！",type:"warning"}):S(t.id,t).then(r=>{l({message:"更新成功",type:"success"}),u()}).catch(()=>{l.error("更新失敗")})};return(r,o)=>{const y=g;return k(),I(y,{name:"custom"},{default:x(()=>[e("div",E,[e("div",D,[N,Y,e("div",null,[n(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>s(t).name=a),class:"input",placeholder:"請輸入姓名",type:"text"},null,512),[[c,s(t).name]])]),j,e("div",z,[e("div",C,[n(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>s(t).gender=a),class:"radio-point",type:"radio",id:"male",name:"drone",value:1,checked:""},null,512),[[p,s(t).gender]]),J]),e("div",O,[n(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>s(t).gender=a),class:"radio-point",type:"radio",id:"female",name:"drone",value:0},null,512),[[p,s(t).gender]]),H]),e("div",q,[n(e("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>s(t).gender=a),class:"radio-point",type:"radio",id:"intersex",name:"drone",value:2},null,512),[[p,s(t).gender]]),L])]),R,e("div",null,[n(e("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>s(t).birthday=a),class:"input",type:"date"},null,512),[[c,s(t).birthday]])]),T,e("div",null,[n(e("input",{"onUpdate:modelValue":o[5]||(o[5]=a=>s(t).organization=a),class:"input",placeholder:"請輸入機構名稱",type:"text"},null,512),[[c,s(t).organization]])]),A,e("div",F,[n(e("select",{"onUpdate:modelValue":o[6]||(o[6]=a=>s(t).category=a),class:"select"},W,512),[[M,s(t).category]])]),e("div",{class:"btn-green",onClick:f},"儲存")])])]),_:1})}}},se=b(X,[["__scopeId","data-v-de4b33f4"]]);export{se as default};
